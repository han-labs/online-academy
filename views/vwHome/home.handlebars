{{!-- Hero Slideshow --}}
{{#if featured}}
<section class="mb-5">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-inner">
            {{#each featured}}
            <div class="carousel-item {{#if @first}}active{{/if}}">
                <div class="hero-slide" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <div class="row align-items-center g-0">
                        <div class="col-md-6 p-5">
                            <span class="badge bg-warning text-dark mb-3">
                                <i class="bi bi-lightning-fill"></i> Featured Course
                            </span>
                            <h1 class="text-white mb-3">{{title}}</h1>
                            <p class="text-white-50 mb-4">{{short_description}}</p>
                            
                            <div class="d-flex gap-3 mb-3 text-white">
                                <span><i class="bi bi-star-fill text-warning"></i> {{formatNumber rating}}</span>
                                <span><i class="bi bi-people-fill"></i> {{formatNumber students}} students</span>
                            </div>
                            
                            <div class="mb-4">
                                {{#ifPromo price promo_price}}
                                <span class="h2 text-white">{{formatNumber promo_price}}₫</span>
                                <span class="text-white-50 text-decoration-line-through ms-2">{{formatNumber price}}₫</span>
                                {{else}}
                                <span class="h2 text-white">{{formatNumber price}}₫</span>
                                {{/ifPromo}}
                            </div>
                            
                            <a href="/courses/{{id}}" class="btn btn-light btn-lg">
                                View Details <i class="bi bi-arrow-right ms-1"></i>
                            </a>
                        </div>
                        <div class="col-md-6 d-none d-md-block p-4">
                            <img src="{{cover}}" class="img-fluid rounded shadow" alt="{{title}}" style="max-height: 350px; width: 100%; object-fit: cover;">
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
        
        <div class="carousel-indicators">
            {{#each featured}}
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="{{@index}}" {{#if @first}}class="active"{{/if}}></button>
            {{/each}}
        </div>
    </div>
</section>
{{/if}}

{{!-- Most Viewed Courses --}}
<section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">
            <i class="bi bi-graph-up-arrow text-primary"></i> Most Viewed Courses
        </h3>
        <a href="/courses/search?sort=best_seller" class="text-decoration-none">
            View All <i class="bi bi-arrow-right"></i>
        </a>
    </div>
    <div class="row g-3">
        {{#each mostViewed}}
        <div class="col-6 col-md-4 col-lg-3 col-xl-2">
            {{> _courseCard}}
        </div>
        {{/each}}
    </div>
</section>

{{!-- Newest Courses --}}
<section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">
            <i class="bi bi-stars text-warning"></i> Newest Courses
        </h3>
        <a href="/courses/search?sort=newest" class="text-decoration-none">
            View All <i class="bi bi-arrow-right"></i>
        </a>
    </div>
    <div class="row g-3">
        {{#each newest}}
        <div class="col-6 col-md-4 col-lg-3 col-xl-2">
            {{> _courseCard}}
        </div>
        {{/each}}
    </div>
</section>

{{!-- Hot Categories --}}
<section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">
            <i class="bi bi-fire text-danger"></i> Most Popular Categories This Week
        </h3>
    </div>
    <div class="row g-3">
        {{#each hotCats}}
        <div class="col-6 col-md-4 col-lg-3">
            <a href="/categories/{{id}}" class="btn btn-outline-dark w-100 py-3">
                <i class="bi bi-folder-fill me-2"></i>{{name}} 
                <span class="badge bg-dark ms-2">{{enroll_count}}</span>
            </a>
        </div>
        {{/each}}
    </div>
</section>
